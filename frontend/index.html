<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Platform - Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .navbar { background: rgba(255,255,255,0.1); padding: 15px 30px; backdrop-filter: blur(10px); }
        .navbar-content { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; }
        .logo { color: white; font-size: 24px; font-weight: bold; }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { color: white; text-decoration: none; padding: 8px 16px; border-radius: 20px; transition: all 0.3s; }
        .nav-links a:hover { background: rgba(255,255,255,0.2); }
        .user-info { color: white; display: flex; align-items: center; gap: 15px; }
        .logout-btn { background: #ff6b6b; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; }
        .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .welcome-section { text-align: center; color: white; margin-bottom: 50px; }
        .welcome-section h1 { font-size: 3em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .welcome-section p { font-size: 1.2em; opacity: 0.9; }
        .modules { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin: 40px 0; }
        .module { background: rgba(255,255,255,0.1); padding: 40px; border-radius: 20px; backdrop-filter: blur(10px); text-align: center; transition: all 0.3s; }
        .module:hover { transform: translateY(-5px); background: rgba(255,255,255,0.15); }
        .module h3 { color: white; font-size: 1.8em; margin-bottom: 15px; }
        .module p { color: rgba(255,255,255,0.9); margin-bottom: 25px; line-height: 1.6; }
        .module-icon { font-size: 3em; margin-bottom: 20px; }
        .btn { display: inline-block; background: #4ecdc4; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; transition: all 0.3s; border: none; cursor: pointer; }
        .btn:hover { background: #26a69a; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .btn.primary { background: #ff6b6b; }
        .btn.primary:hover { background: #ff5252; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 40px 0; }
        .stat-card { background: rgba(255,255,255,0.1); padding: 25px; border-radius: 15px; text-align: center; color: white; }
        .stat-number { font-size: 2.5em; font-weight: bold; margin-bottom: 5px; }
        .stat-label { opacity: 0.8; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo">üöÄ AI Content Platform</div>
            <div class="nav-links">
                <a href="#dashboard">Dashboard</a>
                <a href="#blog-generator" onclick="openBlogGenerator()">Blog Generator</a>
                <a href="#news-feed">News Feed</a>
                <a href="#email-builder">Email Builder</a>
            </div>
            <div class="user-info">
                <span>Welcome, <strong id="currentUser">User</strong>!</span>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Welcome Section -->
        <div class="welcome-section">
            <h1>Welcome to Your AI-Powered Workspace</h1>
            <p>Create, manage, and optimize your content with advanced AI tools</p>
        </div>

        <!-- User Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="blogCount">0</div>
                <div class="stat-label">Blogs Generated</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalWords">0</div>
                <div class="stat-label">Total Words</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avgSeoScore">0</div>
                <div class="stat-label">Avg SEO Score</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="memberSince">0</div>
                <div class="stat-label">Days Active</div>
            </div>
        </div>

        <!-- Main Modules -->
        <div class="modules">
            <!-- AI Blog Generator -->
            <div class="module">
                <div class="module-icon">ü§ñ</div>
                <h3>AI Blog Generator</h3>
                <p>Generate SEO-optimized blog articles using advanced AI models. Customize tone, word count, and target audience for perfect content.</p>
                <button class="btn primary" onclick="openBlogGenerator()">Generate Blog</button>
            </div>

            <!-- News Feed -->
            <div class="module">
                <div class="module-icon">üì∞</div>
                <h3>Personalized News Feed</h3>
                <p>Get AI-curated news and articles based on your interests and reading behavior. Smart recommendations just for you.</p>
                <button class="btn" onclick="alert('News Feed coming in Phase 2!')">Explore Feed</button>
            </div>

            <!-- Email Builder -->
            <div class="module">
                <div class="module-icon">üìß</div>
                <h3>Email Campaign Builder</h3>
                <p>Create stunning email campaigns with drag-and-drop interface. Track performance and optimize your marketing efforts.</p>
                <button class="btn" onclick="alert('Email Builder coming in Phase 2!')">Build Campaign</button>
            </div>

            <!-- Analytics -->
            <div class="module">
                <div class="module-icon">üìä</div>
                <h3>Analytics Dashboard</h3>
                <p>Track your content performance, user engagement, and ROI. Make data-driven decisions for better results.</p>
                <button class="btn" onclick="showAnalytics()">View Analytics</button>
            </div>

            <!-- My Content -->
            <div class="module">
                <div class="module-icon">üìù</div>
                <h3>My Content</h3>
                <p>Manage all your generated blogs, drafts, and published articles in one place. Edit, publish, or archive with ease.</p>
                <button class="btn" onclick="showMyContent()">Manage Content</button>
            </div>

            <!-- Settings -->
            <div class="module">
                <div class="module-icon">‚öôÔ∏è</div>
                <h3>Account Settings</h3>
                <p>Customize your profile, preferences, and account settings. Control your AI generation parameters and privacy.</p>
                <button class="btn" onclick="showSettings()">Settings</button>
            </div>
        </div>

        <!-- Quick Actions -->
        <div style="text-align: center; margin: 50px 0;">
            <h2 style="color: white; margin-bottom: 30px;">Quick Actions</h2>
            <button class="btn primary" onclick="openBlogGenerator()" style="margin: 0 10px;">üöÄ Generate New Blog</button>
            <button class="btn" onclick="showMyContent()" style="margin: 0 10px;">üìö View My Blogs</button>
            <button class="btn" onclick="window.open('../PROJECT_REPORT.md')" style="margin: 0 10px;">üìã Project Report</button>
        </div>
    </div>

    <script>
        // Check authentication
        window.onload = function() {
            const user = localStorage.getItem('currentUser');
            if (!user) {
                window.location.href = '../auth-blog-generator.html';
                return;
            }
            
            const userData = JSON.parse(user);
            document.getElementById('currentUser').textContent = userData.username;
            loadUserStats(userData);
        };

        function loadUserStats(user) {
            // Load user statistics
            const blogs = JSON.parse(localStorage.getItem('userBlogs') || '[]');
            const userBlogs = blogs.filter(blog => blog.author === user.username);
            
            document.getElementById('blogCount').textContent = userBlogs.length;
            
            const totalWords = userBlogs.reduce((sum, blog) => sum + (blog.actualWords || 0), 0);
            document.getElementById('totalWords').textContent = totalWords.toLocaleString();
            
            const avgSeo = userBlogs.length > 0 ? 
                Math.round(userBlogs.reduce((sum, blog) => sum + (blog.seoScore || 0), 0) / userBlogs.length) : 0;
            document.getElementById('avgSeoScore').textContent = avgSeo;
            
            const memberSince = user.createdAt ? 
                Math.floor((new Date() - new Date(user.createdAt)) / (1000 * 60 * 60 * 24)) : 0;
            document.getElementById('memberSince').textContent = memberSince;
        }

        function openBlogGenerator() {
            window.open('../nebius-blog-generator.html', '_blank');
        }

        function showMyContent() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const blogs = JSON.parse(localStorage.getItem('userBlogs') || '[]');
            const userBlogs = blogs.filter(blog => blog.author === user.username);
            
            if (userBlogs.length === 0) {
                alert('No blogs found. Generate your first blog to see it here!');
                return;
            }
            
            let content = 'Your Generated Blogs:\\n\\n';
            userBlogs.forEach((blog, index) => {
                content += `${index + 1}. ${blog.title}\\n`;
                content += `   Words: ${blog.actualWords || 0} | SEO: ${blog.seoScore || 0}/100\\n`;
                content += `   Created: ${new Date(blog.createdAt).toLocaleDateString()}\\n\\n`;
            });
            
            alert(content);
        }

        function showAnalytics() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const blogs = JSON.parse(localStorage.getItem('userBlogs') || '[]');
            const userBlogs = blogs.filter(blog => blog.author === user.username);
            
            if (userBlogs.length === 0) {
                alert('No analytics data available. Generate some blogs first!');
                return;
            }
            
            const totalWords = userBlogs.reduce((sum, blog) => sum + (blog.actualWords || 0), 0);
            const avgSeo = Math.round(userBlogs.reduce((sum, blog) => sum + (blog.seoScore || 0), 0) / userBlogs.length);
            const totalReadTime = userBlogs.reduce((sum, blog) => sum + (blog.readingTime || 0), 0);
            
            alert(`Analytics Summary:\\n\\nTotal Blogs: ${userBlogs.length}\\nTotal Words: ${totalWords.toLocaleString()}\\nAverage SEO Score: ${avgSeo}/100\\nTotal Reading Time: ${totalReadTime} minutes\\n\\nKeep creating great content!`);
        }

        function showSettings() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            alert(`Account Settings:\\n\\nUsername: ${user.username}\\nEmail: ${user.email}\\nRole: ${user.role}\\nMember Since: ${new Date(user.createdAt).toLocaleDateString()}\\n\\nSettings panel coming in Phase 2!`);
        }

        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = '../auth-blog-generator.html';
        }
    </script>
</body>
</html>